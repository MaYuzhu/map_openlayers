<!DOCTYPE html>
<html>
<head>
    <title>中英001</title>
    <meta charset="UTF-8" />
    <script type="text/javascript" src="js/jquery-1.11.3.min.js"></script>
    <!--<script type="text/javascript" src="js/translate.js"></script>-->
</head>

<body>
<button id="change">中英文切换</button>
<div style="text-align: center">
    你好
</div>
</body>
<script type="text/javascript">
    $("#change").click(function() {
        translate();
    })
</script>
<script type="text/javascript">

    $(function(){
        // do something
        var script=document.createElement("script");
        script.type="text/javascript";
        script.src="js/translate.js";
        document.getElementsByTagName('head')[0].appendChild(script);



        var value = sessionStorage.getItem("language");
        document.onreadystatechange = function () {
            if (document.readyState == 'complete') {
                if(value==="1"){
                    Microsoft.Translator.Widget.Translate('zh-CHS', 'bn', onProgress, onError, onComplete, onRestoreOriginal, 2000);
                }
            }
        }
        function onProgress(value) {
        }
        function onError(error) {
        }
        function onComplete() {
            $("#WidgetFloaterPanels").hide();
        }
        function onRestoreOriginal() {
        }
    });

    function translate(){
        var value = sessionStorage.getItem("language");
        if(value==="1"){
            sessionStorage.setItem("language", "0");
        }else{
            sessionStorage.setItem("language", "1");
        }
        console.log(value)
        window.location.reload();//刷新当前页面.
    }

</script>
</html>
